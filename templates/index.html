<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Analysis Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="navbar">
        <a href="#home" id="defaultOpen" onclick="openTab(event, 'home')">Home</a>
        <a href="#visualizations" onclick="openTab(event, 'visualizations')">Visualizations</a>
        <a href="#code" onclick="openTab(event, 'code')">Code</a>
    </div>

    <div id="home" class="tabContent">
        <div class="container">
            <h1>House Price Estimator</h1>
            <form action="{{ url_for('url_register.index') }}" method="post">
    
                <label for="square_footage">Square Footage:</label>
                <input type="number" id="square_footage" name="square_footage" placeholder="Square Footage" value="{{ form_data.get('square_footage', '') }}" required>

    
                <label for="floors">Number of Floors:</label>
                <input type="number" id="floors" name="floors" placeholder="Number of Floors" value="{{ form_data.get('floors', '') }}" required>
    
                <label for="flield1">Number of field1:</label>
                <input type="number" id="field1" name="field1" placeholder="Field 1" value="{{ form_data.get('field1', '') }}" required>
    
                <label for="flield2">Number of field2:</label>
                <input type="number" id="field2" name="field2" placeholder="Field 1" value="{{ form_data.get('field2', '') }}" required>
    
                <label for="flield3">Number of field3:</label>
                <input type="number" id="field3" name="field3" placeholder="Field 1" value="{{ form_data.get('field3', '') }}" required>
    
                <label for="flield4">Number of field4:</label>
                <input type="number" id="field4" name="field4" placeholder="Field 1" value="{{ form_data.get('field4', '') }}" required>
    
                <label for="flield5">Number of field5:</label>
                <input type="number" id="field5" name="field5" placeholder="Field 1" value="{{ form_data.get('field5', '') }}" required>
    
                <label for="flield6">Number of field6:</label>
                <input type="number" id="field6" name="field6" placeholder="Field 1" value="{{ form_data.get('field6', '') }}" required>
    
                <label for="flield7">Number of field7:</label>
                <input type="number" id="field7" name="field7" placeholder="Field 1" value="{{ form_data.get('field7', '') }}" required>
    
                <label for="flield8">Number of field8:</label>
                <input type="number" id="field8" name="field8" placeholder="Field 1" value="{{ form_data.get('field8', '') }}" required>
                
                
                <!-- Dropdown list -->
                <label for="dropdown_field9">Number of field9:</label>
                <select id="dropdown_field9" name="dropdown_field">
                    {% set selected_value = form_data.get('dropdown_field', '1') %}
                    <option value="1" {% if selected_value == '1' %}selected{% endif %}>1</option>
                    <option value="2" {% if selected_value == '2' %}selected{% endif %}>2</option>
                    <option value="3" {% if selected_value == '3' %}selected{% endif %}>3</option>
                    <option value="4" {% if selected_value == '4' %}selected{% endif %}>4</option>
                    <option value="5" {% if selected_value == '5' %}selected{% endif %}>5</option>
                </select>
                
            
                <button id='estimate_button' type="submit">Estimate Price</button>
            </form>
    
    
            <div id="estimated_price">
                {% if estimated_price %}
                    <p>Estimated Price: {{ estimated_price }}</p>
                {% endif %}
            </div>
    </div>

    <div id="visualizations" class="tabContent">
        <iframe src="https://jupyter.org/try-jupyter/lab/?path=notebooks%2FGroup_D_Project.ipynb" width="100%" ></iframe>
    </div>

    <div id="code" class="tabContent">
       <!-- Code to attach the Group_D-Project.html here -->
    </div>

    <script>
        // JavaScript for handling tab switching
        function openTab(evt, tabName) {
            // Declare all variables
            var i, tabContent, tabLinks;

            // Get all elements with class="tabContent" and hide them
            tabContent = document.getElementsByClassName("tabContent");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].style.display = "none";
            }

            // Get all elements with class="navbar a" and remove the class "active"
            tabLinks = document.getElementsByClassName("navbar a");
            for (i = 0; i < tabLinks.length; i++) {
                tabLinks[i].className = tabLinks[i].className.replace(" active", "");
            }

            // Show the current tab, and add an "active" class to the link that opened the tab
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.className += " active";
        }

        // Get the element with id="defaultOpen" and click on it to open the default tab
        document.getElementById("defaultOpen").click();

        document.getElementById('estimate_button').addEventListener('click', function() {
            // Add happiness effect - change color to a brighter one
            this.style.backgroundColor = '#00ff00'; // Bright green for happiness
            setTimeout(() => {
                this.style.backgroundColor = '#ffa500'; // Change it back to orange
            }, 500);

            let price = document.getElementById('estimated_price').textContent;
            document.getElementById('estimated_price').textContent = price;
        });

    </script>
</body>
</html>
